<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mini Fighting Game</title>
<style>
body {
  margin:0; background:#222; color:white; font-family:Arial;
  display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh;
}
canvas { background:#444; display:block; margin:10px 0; }
#hud { display:flex; justify-content:space-between; width:720px; margin-bottom:10px;}
.health { width:200px; height:20px; background:#555; border:2px solid #000;}
.health-bar { height:100%; background:#f00; width:100%;}
button {padding:10px 15px; margin:5px; font-size:16px;}
</style>
</head>
<body>

<div id="hud">
  <div>Player 1<div class="health"><div id="p1Health" class="health-bar"></div></div></div>
  <div>Player 2<div class="health"><div id="p2Health" class="health-bar"></div></div></div>
</div>

<canvas id="game" width="720" height="400"></canvas>

<div>
  <p>Player 1: A=Left, D=Right, W=Attack</p>
  <p>Player 2: ←=Left, →=Right, ↑=Attack</p>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const player1 = {x:100, y:300, w:50, h:50, color:"blue", health:100, speed:5, attack:false};
const player2 = {x:570, y:300, w:50, h:50, color:"red", health:100, speed:5, attack:false};

const keys = {};

document.addEventListener("keydown", e=>keys[e.key]=true);
document.addEventListener("keyup", e=>keys[e.key]=false);

function update() {
  // Player 1 movement
  if(keys["a"]) player1.x -= player1.speed;
  if(keys["d"]) player1.x += player1.speed;
  if(keys["w"]) player1.attack = true;

  // Player 2 movement
  if(keys["ArrowLeft"]) player2.x -= player2.speed;
  if(keys["ArrowRight"]) player2.x += player2.speed;
  if(keys["ArrowUp"]) player2.attack = true;

  // Collision check (simple rectangle)
  if(player1.attack && player1.x + player1.w > player2.x && player1.x < player2.x + player2.w){
    player2.health -= 1;
  }
  if(player2.attack && player2.x + player2.w > player1.x && player2.x < player1.x + player1.w){
    player1.health -= 1;
  }

  // Reset attack
  player1.attack = false;
  player2.attack = false;

  // Update health bars
  document.getElementById("p1Health").style.width = player1.health + "%";
  document.getElementById("p2Health").style.width = player2.health + "%";

  draw();
  requestAnimationFrame(update);
}

function draw() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = player1.color;
  ctx.fillRect(player1.x, player1.y, player1.w, player1.h);
  ctx.fillStyle = player2.color;
  ctx.fillRect(player2.x, player2.y, player2.w, player2.h);
}

update();
</script>

</body>
</html>
